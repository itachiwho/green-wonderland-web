<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Green Wonderland â€” Billing</title>

  <!-- Favicon / tab icon -->
  <link rel="icon" type="image/png" href="assets/GW.png" />
  <link rel="apple-touch-icon" href="assets/GW.png" />

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="brand">
     <img src="assets/GW.png" class="brand-logo" alt="Green Wonderland Logo">
     Green Wonderland â€” Billing
    </div>
    <div class="row">
      <div id="authState" class="pill">Not signed in</div>
      <input id="email" placeholder="email" />
      <input id="password" type="password" placeholder="password" />
      <button id="btnLogin">Sign In</button>
      <button id="btnLogout" class="ghost" disabled>Sign Out</button>
      <button id="btnHistory" class="ghost">ðŸ“œ History</button>
    </div>
  </header>

  <main>
    <!-- ===== BILLING VIEW (visible on #billing) ===== -->
    <div id="viewBilling" data-view="billing">
      <!-- Catalog -->
      <section class="card catalog-card">
        <div class="row topbar">
          <div>
            <b>Catalog</b>
            <span class="muted">click + to add</span>
          </div>
          <div class="row">
            <input id="search" placeholder="Search (name or alias)" />
            <select id="filterCat">
              <option value="">All Categories</option>
            </select>
          </div>
        </div>
        <!-- Category cards will be rendered inside this grid -->
        <div id="catalog" class="list catalog-grid"></div>
      </section>

      <!-- Cart -->
      <section class="card cart-card">
        <div class="row topbar">
          <div>
            <b>Cart</b>
            <span id="sellerNameTag" class="tag hidden"></span>
          </div>
          <button id="btnClear" class="ghost">Clear</button>
        </div>

        <div id="cart"></div>

        <div class="line"></div>

        <div class="row totals">
          <div class="row">
            <label class="muted">Discount %</label>
            <input
              id="discount"
              type="number"
              min="0"
              max="90"
              step="1"
              value="0"
              class="discountInput"
            />
          </div>
          <div class="right">
            <div>Subtotal: <b id="subtotal">$0</b></div>
            <div>Discount: <b id="discountAmt">$0</b></div>
            <div class="total">Total: <span id="total">$0</span></div>
          </div>
        </div>

        <div class="row actions">
          <small class="muted" id="status"></small>
          <button id="btnSave">Save &amp; Send to Discord</button>
        </div>
      </section>
    </div>

    <!-- ===== HISTORY VIEW (visible on #history) ===== -->
    <section
      id="viewHistory"
      data-view="history"
      class="card history-card hidden"
      style="grid-column: 1 / -1;"
    >
      <div class="row topbar">
        <div>
          <b>Sales History</b>
          <span class="muted">Last N hours</span>
        </div>
        <div class="row">
          <select id="histSeller" class="hidden">
            <option value="me" selected>My sales</option>
            <option value="all">All sellers (admin)</option>
          </select>
          <select id="histRange">
            <option value="6">Last 6h</option>
            <option value="12">Last 12h</option>
            <option value="24" selected>Last 24h (Today)</option>
            <option value="48">Last 48h</option>
            <option value="168">Last 7 days</option>
          </select>
          <button id="btnHistRefresh" class="ghost">Refresh</button>
          <button id="btnBackBilling" class="ghost">â¬… Back</button>
        </div>
      </div>

      <div class="row" style="justify-content:space-between; align-items:center;">
        <div class="muted" id="histSummary">â€”</div>
        <div class="muted" id="histStatus"></div>
      </div>

      <div id="history" class="list"></div>
    </section>
  </main>

  <!-- JS: module with Firebase + app logic -->
  <script type="module" src="script.js"></script>
</body>
</html>
